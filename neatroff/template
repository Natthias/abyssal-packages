# Template file for 'neatroff'
pkgname=neatroff
version=10e1020
_commit=10e1020
_datver=0.5
revision=1
build_wrksrc="${pkgname}-${version}"
build_style=gnu-makefile
short_desc="An implementation of troff typesetting system in C programming language"
maintainer="Natthias <natthias@proton.me>"
license="ISC"
homepage="http://litcave.rudi.ir/"
distfiles="https://repo.or.cz/neatroff.git/snapshot/${_commit}.tar.gz
 http://litcave.rudi.ir/neatroff_dat-$_datver.tar.gz"
checksum="6d00b9e7a7e0d9e7a9a32442ff496d19dbd4094f2eebb0984152442c93ce105b
 4534e91f2f00fc1f14451187b1b063f91cd2d4de8867baead07258e7a1561051"

# neatroff doesn't like something in CFLAGS
do_build() {
        make FDIR=/usr/share/neatroff/font MDIR=/usr/share/neatroff/tmac
}

do_install() {
	vbin roff usr/bin/neatroff

	vmkdir usr/share/neatroff
        vcopy $wrksrc/neatroff/tmac usr/share/neatroff
        vcopy $wrksrc/neatroff/font usr/share/neatroff
}
